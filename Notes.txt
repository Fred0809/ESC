4 layers:
	1: power + MOSFETS
	2: solid GND plane
	3: VBAT plane
	4: signals + extras

1 oz copper

3-8s Bat

40 A continuous (rated 30–35 A)

PCB: ~ 50 × 40 mm

PARTS:
1. Power handling
2. Motor drive
3. Control & sensing

SMALLER:
1. Power input & protection block
	Purpose:
		Accept raw battery input
		Survive mistakes and spikes
		Provide a clean, safe VBAT rail
	Sub-blocks:
		1.1 Reverse polarity protection
			Back-to-back N-MOSFETs
			Gate control circuit
		1.2 Surge & transient suppression
			TVS diode
			Bulk electrolytic caps
			High-frequency ceramics
		1.3 Input filtering
			Optional LC / ferrite bead
			Reduces EMI into the system
	Interfaces:
		Inputs:
			BAT+
			BAT–
		Outputs:
			Protected VBAT
			GND (power ground)

2. Power distribution block
	Purpose:
		Distribute VBAT safely
		Separate noisy and quiet loads
	Sub-blocks:
		2.1 High-current VBAT plane
			Feeds MOSFET power stage
		2.2 Auxiliary VBAT branch
			Feeds DC-DC converter
			Protected / filtered
	Interfaces:
		Inputs:
			Protected VBAT
			GND
		Outputs:
			VBAT_POWER (dirty)
			VBAT_AUX (clean-ish)

3. DC-DC conversion block
	Purpose:
		Convert 3–8S into regulated low voltages
	Sub-blocks:
		3.1 High-voltage buck converter
			VBAT → 5V
			Wide input (≥60V rated)
		3.2 LDO or secondary buck
			5V → 3.3V
	Interfaces:
		Inputs:
			VBAT_AUX
			GND
		Outputs:
			+5V
			+3V3
			Power-good (optional)
4. MCU core block
	Purpose:
		Run commutation
		Manage protection
		Handle communication
	Sub-blocks:
		4.1 MCU
			STM32G4 / F3 class
		4.2 Clock & reset
			Crystal or internal RC
			Reset network
		4.3 Programming & debug
			SWD
			Boot configuration
	Interfaces:
		Inputs:
			3V3
			GND
			Throttle / DShot
			Sensor inputs
		Outputs:
			PWM / gate control signals
			Status LEDs (optional)

5. Gate driver block
	Purpose:
		Drive MOSFET gates cleanly and safely
	Sub-blocks:
		5.1 3-phase gate driver IC
			High-side / low-side drivers
			Dead-time control
		5.2 Bootstrap supply
			Diode + capacitor per phase
	Interfaces:
		Inputs:
			PWM signals from MCU
			VBAT (for high-side)
			GND
		Outputs:
			GH_A, GL_A
			GH_B, GL_B
			GH_C, GL_C

6. Power stage (3-phase inverter)
	Purpose:
		Convert DC into controlled 3-phase AC
	Sub-blocks:
		6.1 Half-bridges
			3 × (high-side + low-side MOSFET)
		6.2 Phase output filtering
			Minimal (motor is inductive)
	Interfaces:
		Inputs:
			VBAT_POWER
			Gate drive signals
		Outputs:
			PHASE_A
			PHASE_B
			PHASE_C

7. Current sensing block
	Purpose:
		Measure current
		Protect hardware
	Sub-blocks:
		7.1 Shunt resistor
			Low-side or phase
		7.2 Amplifier / comparator
			Differential amplifier
			Hardware over-current shutdown
	Interfaces:
		Inputs:
			Shunt voltage
			GND
		Outputs:
			Analog current signal to MCU
			Over-current flag to driver / MCU

8. Voltage sensing block
	Purpose:
		Monitor battery voltage
		Detect over-voltage / brown-out
	Sub-blocks:
		8.1 Divider
			VBAT → ADC range
		8.2 Filtering
			RC low-pass
	Interfaces:
		Inputs:
			VBAT
			GND
		Outputs:
			VBAT_SENSE (ADC)

9. Temperature sensing block
	Purpose:
		Thermal derating
		Thermal shutdown
	Sub-blocks:
		9.1 NTC near MOSFETs
		9.2 Divider & filter
	Interfaces:
		Inputs:
			3V3
			GND
		Outputs:
			TEMP_SENSE (ADC)

10. Communication & control input block
	Purpose:
		Receive throttle commands
		Optional telemetry
	Sub-blocks:
		10.1 Control input
			PWM / DShot
		10.2 Protection
			Series resistors
			ESD diodes
	Interfaces:
		Inputs:
			SIGNAL
			GND
		Outputs:
			MCU GPIO / timer input

11. Status & diagnostics block
	Purpose:
		Debugging
		User feedback
	Sub-blocks: (e.g.)
		LEDs
		Test pads

























